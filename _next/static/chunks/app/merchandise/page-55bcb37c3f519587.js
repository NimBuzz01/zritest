(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9658],{3251:function(e,s,t){Promise.resolve().then(t.bind(t,248)),Promise.resolve().then(t.bind(t,4332))},248:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var l=t(7437),a=t(2265),r=t(9150),c=t(2994),i=t(6126),n=t(8974);t(6246);var o=t(9231),m=t(3499),x=t(8373),d=t(9806),u=e=>{let{selectedCategory:s,setSelectedCategory:t,showOffers:r,setShowOffers:c,minPrice:i,setMinPrice:u,maxPrice:f,setMaxPrice:h}=e,[p,g]=(0,a.useState)([]),{local:j}=(0,d.useLocal)(),b=e=>{u(e)},v=e=>{h(e)};return(0,a.useEffect)(()=>{(async function(){try{let e=await (0,m.b)(),s=e.map(e=>({value:e.id,label:e.name}));g(s)}catch(e){console.error("Error fetching and mapping data:",e)}})()},[]),(0,l.jsx)(o.Zb,{className:"mt-20",children:(0,l.jsxs)("div",{className:"px-4 py-4",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"category-select",className:"mb-2 block text-sm font-medium text-gray-700",children:"Category"}),(0,l.jsx)(x.j,{items:p,value:s,setValue:t})]}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("label",{className:"flex items-center gap-2 font-medium text-gray-700",children:[(0,l.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:r,onChange:e=>c(e.target.checked)}),(0,l.jsx)("span",{className:"text-sm",children:"Show Offers"})]})}),(0,l.jsxs)("div",{className:"mb-4 mt-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm font-medium text-gray-500",children:[(0,l.jsx)("label",{htmlFor:"price-slider",className:"block font-medium text-gray-700",children:"Price"}),j?(0,l.jsxs)(l.Fragment,{children:["LKR ",i," - ",f]}):(0,l.jsxs)(l.Fragment,{children:["USD $",i," - $",f]})]}),(0,l.jsx)("div",{className:"p-2",children:(0,l.jsx)(n.Z,{range:!0,allowCross:!1,min:0,max:j?2e5:200,value:[i,f],onChange:e=>{Array.isArray(e)&&e.length>0&&(b(e[0]),v(e[1]))}})})]})]})})},f=t(730),h=t(737),p=()=>{let{merchandise:e}=(0,f.useDataContext)(),{local:s}=(0,d.useLocal)(),[t,n]=(0,a.useState)(1),[o,m]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[g,j]=(0,a.useState)(!1),[b,v]=(0,a.useState)(0),[N,y]=(0,a.useState)(s?2e5:200),w=Math.ceil(e.length/8),S=e=>{n(e)},C=e.filter(e=>{let t=e.name.toLowerCase().includes(o.toLowerCase()),l=!x||e.category.id===x,a=!g||e.offer,r=(e,s)=>{let t=Math.min(e[s?"LKR":"USD"]);return t},c=e.options.option.some(e=>{let t=e.cost,l=r(t,s);return l>=b&&l<=N});return t&&l&&a&&c}),k=(t-1)*8,F=k+8,L=C.slice(k,F);return(0,l.jsxs)("div",{className:" flex w-full flex-col items-center justify-center px-2 py-10 sm:px-10",children:[(0,l.jsx)(c.Z,{subtitle:"Our Merchandise",title:"Our Merchandise Catalog"}),(0,l.jsx)("div",{className:"w-full border-t-2 border-gray-200"}),(0,l.jsxs)("div",{className:"flex w-full flex-col lg:flex-row",children:[(0,l.jsx)("div",{className:"mb-5 w-full lg:mb-0 lg:w-[500px]",children:(0,l.jsx)(u,{selectedCategory:x,setSelectedCategory:p,showOffers:g,setShowOffers:j,minPrice:b,setMinPrice:v,maxPrice:N,setMaxPrice:y})}),(0,l.jsxs)("div",{className:"flex w-full flex-col items-center px-2",children:[(0,l.jsxs)("div",{className:"flex w-full max-w-[600px] px-2 py-4 pb-2",children:[(0,l.jsx)("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,l.jsx)(r.RB5,{})}),(0,l.jsx)("input",{type:"text",id:"simple-search",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500  ",placeholder:"Search a Merchandise...",value:o,onChange:e=>{m(e.target.value),n(1)},required:!0})]})]}),L.length>0?(0,l.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-4 py-4",id:"experience-store-items",children:L.map(e=>(0,l.jsx)(i.Z,{merchandise:e,width:"w-72"},e.id))}):(0,l.jsx)(h.Z,{text:"Sorry! No search results found"}),(0,l.jsx)("div",{className:"my-4 flex justify-center gap-2",children:Array.from({length:w}).map((e,s)=>(0,l.jsx)("button",{className:"h-10 w-10 rounded-lg ".concat(t===s+1?"bg-green-600 text-white":"bg-gray-200 text-gray-600"),onClick:()=>S(s+1),children:s+1},s))})]})]})]})}},6126:function(e,s,t){"use strict";var l=t(7437),a=t(1396),r=t.n(a),c=t(2265),i=t(5021),n=t(5249),o=t(9912),m=t(9806);s.Z=e=>{let{merchandise:s,width:t="w-full"}=e,[a,x]=(0,c.useState)(!1),{local:d}=(0,m.useLocal)(),[u,f]=(0,c.useState)(0),[h,p]=(0,c.useState)(0);return(0,c.useEffect)(()=>{let e=new Image;e.src=s.images[0].src,e.onload=()=>x(!0)},[s.images[0].src]),(0,c.useEffect)(()=>{let e=s.options;if(e&&e.option.length>0){let s=e.option.map(e=>e.cost.USD),t=e.option.flatMap(e=>e.cost.LKR);f(Math.min(...s)),p(Math.min(...t))}},[s.options]),(0,l.jsx)(r(),{href:"/merchandise/".concat(encodeURIComponent(s.id)),children:a?(0,l.jsxs)("div",{className:"group relative flex ".concat(t," flex-col items-center justify-center rounded-md border-[1px] bg-white transition-all"),children:[(0,l.jsx)("div",{className:"relative flex h-72 w-full items-center justify-center overflow-hidden",children:(0,l.jsx)(o.default,{src:s.images[0].src,alt:s.images[0].alt,objectFit:"cover",style:"transition-all duration-500 group-hover:scale-110"})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-1 py-6",children:[(0,l.jsx)("p",{className:"text-xs uppercase sm:text-sm",children:s.category.name}),(0,l.jsx)("p",{className:"text-xl font-medium sm:text-2xl",children:s.name}),s.offer?(0,l.jsx)("div",{className:"mt-2 flex items-center gap-2",children:d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"relative inline-block",children:[(0,l.jsx)("div",{className:"relative top-4 h-0 w-full rotate-[-14deg] border-t-2 border-red-600"}),(0,l.jsxs)("p",{className:"text-md font-medium text-gray-500 sm:text-lg",children:["LKR ",h]})]}),(0,l.jsxs)("p",{className:"text-xl font-medium text-blue-900 sm:text-2xl",children:["LKR"," ",(0,i.oA)(h,s.offer)]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"relative inline-block",children:[(0,l.jsx)("div",{className:"relative top-4 h-0 w-full rotate-[-14deg] border-t-2 border-red-600"}),(0,l.jsxs)("p",{className:"text-md font-medium text-gray-500 sm:text-lg",children:["USD $",u]})]}),(0,l.jsxs)("p",{className:"text-xl font-medium text-blue-900 sm:text-2xl",children:["USD $",(0,i.oA)(u,s.offer)]})]})}):(0,l.jsx)("p",{className:"mt-2 text-xl font-medium text-blue-900 sm:text-2xl",children:d?(0,l.jsxs)(l.Fragment,{children:["LKR ",h]}):(0,l.jsxs)(l.Fragment,{children:["USD $",u]})})]}),s.offer&&(0,l.jsx)("div",{className:"absolute right-0 top-0 rounded-bl-3xl bg-green-500 px-2.5 py-1.5 pl-4 text-sm font-semibold text-white",children:"".concat(s.offer,"% OFF")})]}):(0,l.jsx)(n.Z,{})},s.id)}}},function(e){e.O(0,[3712,5986,5993,1694,9222,3604,736,2373,362,8165,9856,8408,2971,596,1744],function(){return e(e.s=3251)}),_N_E=e.O()}]);