(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5012],{9457:function(e,t,r){"use strict";var n=r(2265);function a(e){return Array.prototype.slice.call(e)}function i(e,t){var r=Math.floor(e);return r===t||r+1===t?e:t}function s(){return Date.now()}function o(e,t,r){if(t="data-keen-slider-"+t,null===r)return e.removeAttribute(t);e.setAttribute(t,r||"")}function l(e,t){return t=t||document,"function"==typeof e&&(e=e(t)),Array.isArray(e)?e:"string"==typeof e?a(t.querySelectorAll(e)):e instanceof HTMLElement?[e]:e instanceof NodeList?a(e):[]}function c(e){e.raw&&(e=e.raw),e.cancelable&&!e.defaultPrevented&&e.preventDefault()}function d(e){e.raw&&(e=e.raw),e.stopPropagation&&e.stopPropagation()}function u(){var e=[];return{add:function(t,r,n,a){t.addListener?t.addListener(n):t.addEventListener(r,n,a),e.push([t,r,n,a])},input:function(e,t,r,n){this.add(e,t,function(e){e.nativeEvent&&(e=e.nativeEvent);var t=e.changedTouches||[],n=e.targetTouches||[],a=e.detail&&e.detail.x?e.detail:null;return r({id:a?a.identifier?a.identifier:"i":n[0]?n[0]?n[0].identifier:"e":"d",idChanged:a?a.identifier?a.identifier:"i":t[0]?t[0]?t[0].identifier:"e":"d",raw:e,x:a&&a.x?a.x:n[0]?n[0].screenX:a?a.x:e.pageX,y:a&&a.y?a.y:n[0]?n[0].screenY:a?a.y:e.pageY})},n)},purge:function(){e.forEach(function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])}),e=[]}}}function m(e,t,r){return Math.min(Math.max(e,t),r)}function p(e){return(e>0?1:0)-(e<0?1:0)||+e}function f(e){var t=e.getBoundingClientRect();return{height:i(t.height,e.offsetHeight),width:i(t.width,e.offsetWidth)}}function h(e,t,r,n){var a=e&&e[t];return null==a?r:n&&"function"==typeof a?a():a}function x(e){return Math.round(1e6*e)/1e6}var g=function(){return(g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function v(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function b(e){var t,r,n,a,i,s,o,l;function c(e){return 1-Math.pow(1-e,3)}function d(){return n?e.track.velocity():0}function u(e,t){void 0===t&&(t=1e3);var r=147e-9+(e=Math.abs(e))/t;return{dist:Math.pow(e,2)/r,dur:e/r}}function f(){var t=e.track.details;t&&(i=t.min,s=t.max,o=t.minIdx,l=t.maxIdx)}function h(){e.animator.stop()}e.on("updated",f),e.on("optionsChanged",f),e.on("created",f),e.on("dragStarted",function(){n=!1,h(),t=r=e.track.details.abs}),e.on("dragChecked",function(){n=!0}),e.on("dragEnded",function(){var n,f,x,g,v,b,y=e.options.mode;"snap"===y&&(n=e.track,x=(f=e.track.details).position,g=p(d()),(x>s||x<i)&&(g=0),v=t+g,0===f.slides[n.absToRel(v)].portion&&(v-=g),t!==r&&(v=r),p(n.idxToDist(v,!0))!==g&&(v+=g),v=m(v,o,l),b=n.idxToDist(v,!0),e.animator.start([{distance:b,duration:500,easing:function(e){return 1+--e*e*e*e*e}}])),"free"!==y&&"free-snap"!==y||function(){h();var t="free-snap"===e.options.mode,r=e.track,n=d();a=p(n);var f=e.track.details,x=[];if(n||!t){var g=u(n),v=g.dist,b=g.dur;if(b*=2,v*=a,t){var y=r.idxToDist(r.distToIdx(v),!0);y&&(v=y)}x.push({distance:v,duration:b,easing:c});var j=f.position,N=j+v;if(N<i||N>s){var w=N<i?i-j:s-j,k=0,S=n;if(p(w)===a){var T=Math.min(Math.abs(w)/Math.abs(v),1),E=(1-Math.pow(1-T,1/3))*b;x[0].earlyExit=E,S=n*(1-T)}else x[0].earlyExit=0,k+=w;var C=u(S,100),I=C.dist*a;e.options.rubberband&&(x.push({distance:I,duration:2*C.dur,easing:c}),x.push({distance:-I+k,duration:500,easing:c}))}e.animator.start(x)}else e.moveToIdx(m(f.abs,o,l),!0,{duration:500,easing:function(e){return 1+--e*e*e*e*e}})}()}),e.on("dragged",function(){r=e.track.details.abs})}function y(e){var t,r,n,a,i,s,o,f,h,x,g,v,b,y,j,N,w,k,S=u();function T(t){if(s&&f===t.id){var l=A(t);if(h){if(!I(t))return C(t);x=l,h=!1,e.emit("dragChecked")}if(N)return x=l;c(t);var u=function(t){if(w===-1/0&&k===1/0)return t;var n=e.track.details,s=n.length,o=n.position,l=m(t,w-o,k-o);if(0===s)return 0;if(!e.options.rubberband)return l;if(o<=k&&o>=w||o<w&&r>0||o>k&&r<0)return t;var c=Math.max(0,1-Math.abs((o<w?o-w:o-k)/s*(a*s))/i*2);return c*c*t}(o(x-l)/a*n);r=p(u);var b=e.track.details.position;(b>w&&b<k||b===w&&r>0||b===k&&r<0)&&d(t),g+=u,!v&&Math.abs(g*a)>5&&(v=!0),e.track.add(u),x=l,e.emit("dragged")}}function E(t){!s&&e.track.details&&e.track.details.length&&(g=0,s=!0,v=!1,h=!0,f=t.id,I(t),x=A(t),e.emit("dragStarted"))}function C(t){s&&f===t.idChanged&&(s=!1,e.emit("dragEnded"))}function I(e){var t=M(),r=t?e.y:e.x,n=t?e.x:e.y,a=void 0!==b&&void 0!==y&&Math.abs(y-n)<=Math.abs(b-r);return b=r,y=n,a}function A(e){return M()?e.y:e.x}function M(){return e.options.vertical}function D(){a=e.size,i=M()?window.innerHeight:window.innerWidth;var t=e.track.details;t&&(w=t.min,k=t.max)}function V(e){v&&(d(e),c(e))}function F(){if(S.purge(),e.options.drag&&!e.options.disabled){o="function"==typeof(a=e.options.dragSpeed||1)?a:function(e){return e*a},n=e.options.rtl?-1:1,D(),t=e.container,r="data-keen-slider-clickable",l("[".concat(r,"]:not([").concat(r,"=false])"),t).map(function(e){S.add(e,"dragstart",d),S.add(e,"mousedown",d),S.add(e,"touchstart",d)}),S.add(t,"dragstart",function(e){c(e)}),S.add(t,"click",V,{capture:!0}),S.input(t,"ksDragStart",E),S.input(t,"ksDrag",T),S.input(t,"ksDragEnd",C),S.input(t,"mousedown",E),S.input(t,"mousemove",T),S.input(t,"mouseleave",C),S.input(t,"mouseup",C),S.input(t,"touchstart",E,{passive:!0}),S.input(t,"touchmove",T,{passive:!1}),S.input(t,"touchend",C),S.input(t,"touchcancel",C),S.add(window,"wheel",function(e){s&&c(e)});var r,a,i="data-keen-slider-scrollable";l("[".concat(i,"]:not([").concat(i,"=false])"),e.container).map(function(e){var t;S.input(e,"touchstart",function(e){t=A(e),N=!0,j=!0},{passive:!0}),S.input(e,"touchmove",function(r){var n=M(),a=n?e.scrollHeight-e.clientHeight:e.scrollWidth-e.clientWidth,i=t-A(r),s=n?e.scrollTop:e.scrollLeft,o=n&&"scroll"===e.style.overflowY||!n&&"scroll"===e.style.overflowX;if(t=A(r),(i<0&&s>0||i>0&&s<a)&&j&&o)return N=!0;j=!1,c(r),N=!1}),S.input(e,"touchend",function(){N=!1})})}}e.on("updated",D),e.on("optionsChanged",F),e.on("created",F),e.on("destroyed",S.purge)}function j(e){var t,r,n=null;function a(t,r,n){e.animator.active?s(t,r,n):requestAnimationFrame(function(){return s(t,r,n)})}function i(){a(!1,!1,r)}function s(r,a,i){var s=0,o=e.size,d=e.track.details;if(d&&t){var u=d.slides;t.forEach(function(e,t){if(r)!n&&a&&l(e,null,i),c(e,null,i);else{if(!u[t])return;var d=u[t].size*o;!n&&a&&l(e,d,i),c(e,u[t].distance*o-s,i),s+=d}})}}function o(t){return"performance"===e.options.renderMode?Math.round(t):t}function l(e,t,r){var n=r?"height":"width";null!==t&&(t=o(t)+"px"),e.style["min-"+n]=t,e.style["max-"+n]=t}function c(e,t,r){if(null!==t){t=o(t);var n=r?t:0;t="translate3d(".concat(r?0:t,"px, ").concat(n,"px, 0)")}e.style.transform=t,e.style["-webkit-transform"]=t}function d(){t&&(s(!0,!0,r),t=null),e.on("detailsChanged",i,!0)}function u(){a(!1,!0,r)}function m(){d(),r=e.options.vertical,e.options.disabled||"custom"===e.options.renderMode||(n="auto"===h(e.options.slides,"perView",null),e.on("detailsChanged",i),(t=e.slides).length&&u())}e.on("created",m),e.on("optionsChanged",m),e.on("beforeOptionsChanged",function(){d()}),e.on("updated",u),e.on("destroyed",d)}var N=function(e,t,r){try{var n,a,i,c;return a=v([(n={drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"},function(t){var r,a,i,s,c,d,m=u();function p(e){var r;o(t.container,"reverse","rtl"!==(r=t.container,window.getComputedStyle(r,null).getPropertyValue("direction"))||e?null:""),o(t.container,"v",t.options.vertical&&!e?"":null),o(t.container,"disabled",t.options.disabled&&!e?"":null)}function x(){v()&&N()}function v(){var e=null;if(s.forEach(function(t){t.matches&&(e=t.__media)}),e===r)return!1;r||t.emit("beforeOptionsChanged"),r=e;var n=e?i.breakpoints[e]:i;return t.options=g(g({},i),n),p(),E(),C(),k(),!0}function b(){return t.options.trackConfig.length}function y(e){for(var o in r=!1,i=g(g({},n),e),m.purge(),a=t.size,s=[],i.breakpoints||[]){var l=window.matchMedia(o);l.__media=o,s.push(l),m.add(l,"change",x)}m.add(window,"orientationchange",T),m.add(window,"resize",S),v()}function j(e){t.animator.stop();var r=t.track.details;t.track.init(null!=e?e:r?r.abs:0)}function N(e){j(e),t.emit("optionsChanged")}function w(e,r){if(e)return y(e),void N(r);E(),C();var n=b();k(),b()!==n?N(r):j(r),t.emit("updated")}function k(){var e=t.options.slides;if("function"==typeof e)return t.options.trackConfig=e(t.size,t.slides);for(var r=t.slides,n=r.length,a="number"==typeof e?e:h(e,"number",n,!0),i=[],s=h(e,"perView",1,!0),o=h(e,"spacing",0,!0)/t.size||0,l="auto"===s?o:o/s,c=h(e,"origin","auto"),d=0,u=0;u<a;u++){var m="auto"===s?function(e){var r=f(e);return(t.options.vertical?r.height:r.width)/t.size||1}(r[u]):1/s-o+l,p="center"===c?.5-m/2:"auto"===c?0:c;i.push({origin:p,size:m,spacing:o}),d+=m}if(d+=o*(a-1),"auto"===c&&!t.options.loop&&1!==s){var x=0;i.map(function(e){var t=d-x;return x+=e.size+o,t>=1||(e.origin=1-t-(d>1?0:1-d)),e})}t.options.trackConfig=i}function S(){E();var e=t.size;t.options.disabled||e===a||(a=e,w())}function T(){S(),setTimeout(S,500),setTimeout(S,2e3)}function E(){var e=f(t.container);t.size=(t.options.vertical?e.height:e.width)||1}function C(){t.slides=l(t.options.selector,t.container)}t.container=(d=l(e,c||document)).length?d[0]:null,t.destroy=function(){m.purge(),t.emit("destroyed"),p(!0)},t.prev=function(){t.moveToIdx(t.track.details.abs-1,!0)},t.next=function(){t.moveToIdx(t.track.details.abs+1,!0)},t.update=w,y(t.options)}),j,y,b],r||[],!0),c={},i={emit:function(e){c[e]&&c[e].forEach(function(e){e(i)});var t=i.options&&i.options[e];t&&t(i)},moveToIdx:function(e,t,r){var n=i.track.idxToDist(e,t);if(n){var a=i.options.defaultAnimation;i.animator.start([{distance:n,duration:h(r||a,"duration",500),easing:h(r||a,"easing",function(e){return 1+--e*e*e*e*e})}])}},on:function(e,t,r){void 0===r&&(r=!1),c[e]||(c[e]=[]);var n=c[e].indexOf(t);n>-1?r&&delete c[e][n]:r||c[e].push(t)},options:t},function(){if(i.track=function(e){var t,r,n,a,i,o,l,c,d,u,f,g,b,y,j=1/0,N=[],w=null,k=0;function S(e){D(k+e)}function T(e){var t=E(k+e).abs;return A(t)===t?t:null}function E(e){var t=Math.floor(Math.abs(x(e/r))),n=x((e%r+r)%r);n===r&&(n=0);var a=p(e),i=l.indexOf(v([],l,!0).reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e})),s=i;return a<0&&t++,i===o&&(s=0,t+=a>0?1:-1),{abs:s+t*o*a,origin:i,rel:s}}function C(e,t,r){if(t||!a.loop)return I(e,r);if(A(e)!==e)return null;var n,i=E(null!=r?r:k),s=i.abs,l=e-i.rel,c=s+l;n=I(c);var d=I(c-o*p(l));return(null!==d&&Math.abs(d)<Math.abs(n)||null===n)&&(n=d),x(n)}function I(e,t){if(null==t&&(t=x(k)),n=e,A(n)!==n||null===e)return null;e=Math.round(e);var n,a=E(t),i=a.abs,s=a.rel,c=a.origin,d=M(e),u=(t%r+r)%r,m=l[c],p=Math.floor((e-(i-s))/o)*r;return x(m-u-m+l[d]+p+(c===o?r:0))}function A(e){return m(e,d,u)}function M(e){return(e%o+o)%o}function D(t){r=t-k,N.push({distance:r,timestamp:s()}),N.length>6&&(N=N.slice(-6)),k=x(t);var r,n=V().abs;if(n!==w){var a=null!==w;w=n,a&&e.emit("slideChanged")}}function V(s){var l=s?null:function(){if(o){var e=a.loop,t=e?(k%r+r)%r:k,s=(e?k%r:k)-i[0][2],l=0-(s<0&&e?r-Math.abs(s):s),c=0,m=E(k),h=m.abs,x=m.rel,v=i[x][2],j=i.map(function(t,n){var i=l+c;(i<0-t[0]||i>1)&&(i+=(Math.abs(i)>r-1&&e?r:0)*p(-i));var s=n-x,d=p(s),u=s+h;e&&(-1===d&&i>v&&(u+=o),1===d&&i<v&&(u-=o),null!==f&&u<f&&(i+=r),null!==g&&u>g&&(i-=r));var m=i+t[0]+t[1],b=Math.max(i>=0&&m<=1?1:m<0||i>1?0:i<0?Math.min(1,(t[0]+i)/t[0]):(1-i)/t[0],0);return c+=t[0]+t[1],{abs:u,distance:a.rtl?-1*i+1-t[0]:i,portion:b,size:t[0]}});return x=M(h=A(h)),{abs:A(h),length:n,max:y,maxIdx:u,min:b,minIdx:d,position:k,progress:e?t/r:k/n,rel:x,slides:j,slidesLength:r}}}();return t.details=l,e.emit("detailsChanged"),l}return t={absToRel:M,add:S,details:null,distToIdx:T,idxToDist:C,init:function(t){var s,m,p,v;if(function(){if(o=(i=((a=e.options).trackConfig||[]).map(function(e){return[h(e,"size",1),h(e,"spacing",0),h(e,"origin",0)]})).length){r=x(i.reduce(function(e,t){return e+t[0]+t[1]},0));var t,s=o-1;n=x(r+i[0][2]-i[s][0]-i[s][2]-i[s][1]),l=i.reduce(function(e,r){if(!e)return[0];var n=i[e.length-1],a=e[e.length-1]+(n[0]+n[2])+n[1];return a-=r[2],e[e.length-1]>a&&(a=e[e.length-1]),a=x(a),e.push(a),(!t||t<a)&&(c=e.length-1),t=a,e},null),0===n&&(c=0),l.push(x(r))}}(),!o)return V(!0);s=e.options.range,f=d=(m=e.options.loop)?h(m,"min",-1/0):0,g=u=m?h(m,"max",j):c,p=h(s,"min",null),v=h(s,"max",null),null!==p&&(d=p),null!==v&&(u=v),b=d===-1/0?d:e.track.idxToDist(d||0,!0,0),y=u===j?u:C(u,!0,0),null===v&&(g=u),h(s,"align",!1)&&u!==j&&0===i[M(u)][2]&&(y-=1-i[M(u)][0],u=T(y-k)),b=x(b),y=x(y),Number(t)===t?S(I(A(t))):V()},to:D,velocity:function(){var e=s(),t=N.reduce(function(t,r){var n=r.distance,a=r.timestamp;return e-a>200||(p(n)!==p(t.distance)&&t.distance&&(t={distance:0,lastTimestamp:0,time:0}),t.time&&(t.distance+=n),t.lastTimestamp&&(t.time+=a-t.lastTimestamp),t.lastTimestamp=a),t},{distance:0,lastTimestamp:0,time:0});return t.distance/t.time||0}}}(i),i.animator=function(e){var t,r,n,a,i,s;function o(e){t.active=e}function l(e){t.targetIdx=e}function c(){var t;t=i,window.cancelAnimationFrame(t),o(!1),l(null),s&&e.emit("animationStopped"),s=null}return t={active:!1,start:function(t){if(c(),e.track.details){var d=0,u=e.track.details.position;r=0,n=0,a=t.map(function(e){var t,r=Number(u),a=null!==(t=e.earlyExit)&&void 0!==t?t:e.duration,i=e.easing,s=e.distance*i(a/e.duration)||0;u+=s;var o=n;return n+=a,d+=s,[r,e.distance,o,n,e.duration,i]}),l(e.track.distToIdx(d)),function t(){i=window.requestAnimationFrame(function i(c){s||(s=c),o(!0);var d=c-s;d>n&&(d=n);var u=a[r];if(u[3]<d)return r++,i(c);var m=u[2],p=u[4],f=u[0],h=u[1]*(0,u[5])(0===p?1:(d-m)/p);if(h&&e.track.to(f+h),d<n)return t();s=null,o(!1),l(null),e.emit("animationEnded")})}(),e.emit("animationStarted")}},stop:c,targetIdx:null}}(i),a)for(var e=0;e<a.length;e++)(0,a[e])(i);i.track.init(i.options.initial||0),i.emit("created")}(),i}catch(e){console.error(e)}};t.E=function(e,t){var r=n.useRef(null),a=n.useRef(!1),i=n.useRef(e),s=n.useCallback(function(n){n?(i.current=e,r.current=new N(n,e,t),a.current=!1):(r.current&&r.current.destroy&&r.current.destroy(),r.current=null)},[]);return n.useEffect(function(){(function e(t,r){if(t===r)return!0;var n=typeof t;if(n!==typeof r)return!1;if("object"!==n||null===t||null===r)return"function"===n&&t.toString()===r.toString();if(t.length!==r.length||Object.getOwnPropertyNames(t).length!==Object.getOwnPropertyNames(r).length)return!1;for(var a in t)if(!e(t[a],r[a]))return!1;return!0})(i.current,e)||(i.current=e,r.current&&r.current.update(i.current))},[e]),[s,r]}},128:function(e,t,r){Promise.resolve().then(r.bind(r,865)),Promise.resolve().then(r.bind(r,1608)),Promise.resolve().then(r.bind(r,7202)),Promise.resolve().then(r.bind(r,4332)),Promise.resolve().then(r.t.bind(r,1266,23))},865:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(7437),a=r(2265),i=r(9912),s=r(2157),o=r(1608),l=r(627);async function c(){let e=await (0,l.FZ)(),t=e.data.map(e=>{let t=e.attributes;return{id:t.voucherId,name:t.name,src:t.image.src,alt:t.image.alt}});return t}var d=r(737),u=e=>{let{currentStep:t,setCurrentStep:r}=e,l=(0,o.useVoucher)(),u=(0,o.useVoucherActions)(),[m,p]=(0,a.useState)(!1),[f,h]=(0,a.useState)();(0,a.useEffect)(()=>{!async function(){try{let e=await c();h(e)}catch(e){console.error("Error fetching and mapping data:",e)}}()},[]);let x=e=>{u.setVoucherId(e.id),u.setVoucherTemplate(e.name),u.setVoucherImage(e.src),p(!0)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("p",{className:"mb-5 text-center text-2xl font-medium",children:"Select the voucher type"}),(0,n.jsx)("div",{className:"my-5 sm:px-10",children:f?(0,n.jsx)(s.default,{perView:1,spacing:0,arrows:!0,children:f.map(e=>(0,n.jsxs)("div",{className:"group flex flex-col items-center gap-4 ".concat(l.voucherId===e.id?"selected":""),onClick:()=>x(e),children:[(0,n.jsx)("div",{className:"relative h-96 w-full",children:(0,n.jsx)(i.default,{src:e.src,alt:e.alt,objectFit:"contain",style:"border-2 ".concat(l.voucherId===e.id?"selected border-blue-500":"border-transparent")})}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-xl font-medium",children:[(0,n.jsx)("input",{type:"radio",checked:l.voucherId===e.id,onChange:()=>x(e)}),(0,n.jsx)("p",{children:e.name})]})]},e.id))}):(0,n.jsx)(d.Z,{text:"No voucher templates found!"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between border-t p-5",children:[(0,n.jsx)("button",{onClick:()=>{r(t-1)},className:"w-44 bg-gray-200 py-3 text-lg font-semibold uppercase text-gray-600 transition-all hover:bg-gray-300 ".concat(t<1?"opacity-0":"opacity-100"),disabled:t<1,children:"Back"}),(0,n.jsx)("button",{onClick:()=>{m?r(t+1):alert("Not selected")},className:"w-44 bg-green-500 py-3 text-lg font-semibold uppercase text-white transition-all hover:bg-green-600 ".concat(t>1?"opacity-0":"opacity-100"),disabled:t>1,children:"Continue"})]})]})},m=r(9150),p=r(6820),f=r(4606),h=r(3159),x=r(9806),g=r(730),v=r(9231),b=r(1093),y=r(4033),j=e=>{let{setCurrentStep:t,currentStep:r}=e,{experiences:s}=(0,g.useDataContext)(),l=(0,o.useVoucher)(),c=(0,o.useVoucherActions)(),{local:d,key:u,setKey:j}=(0,x.useLocal)(),[N,w]=(0,a.useState)(""),[k,S]=(0,a.useState)(!1),[T,E]=(0,a.useState)(""),[C,I]=(0,a.useState)(""),[A,M]=(0,a.useState)(""),[D,V]=(0,a.useState)(""),[F,O]=(0,a.useState)(""),[R,P]=(0,a.useState)(""),[L,_]=(0,a.useState)(!1),[U,z]=(0,a.useState)(!1),q=(0,y.useRouter)(),[Z,G]=(0,a.useState)(),B=e=>{G(e),S(!1),w(""),P("")};(0,a.useEffect)(()=>{let e=localStorage.getItem("Gift");e&&(c.setSelectedExperience(JSON.parse(e)),localStorage.removeItem("Gift"),z(!0),j())},[u]);let H=()=>{let e=!0;return"Someone"===l.giftTo&&""===l.recipientName.trim()?(E("Recipient's Name is required."),e=!1):E(""),"Someone"===l.giftTo&&""===l.recipientEmail.trim()?(I("Recipient's Email is required."),e=!1):I(""),""===l.senderName.trim()?(M("Sender's Name is required."),e=!1):M(""),""===l.personalMessage.trim()?(V("Personal Message is required."),e=!1):V(""),"Cash"===l.voucherType?l.cashAmount&&l.cashAmount<=0?(O("Amount must be greater than 0."),e=!1):O(""):"Experience"!==l.voucherType||l.selectedExperience?P(""):(P("Please select an Experience."),e=!1),e};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col gap-16 p-4 sm:p-10 lg:flex-row",children:[(0,n.jsx)("div",{className:"w-full lg:w-1/2",children:(0,n.jsxs)("form",{action:"#",className:"flex flex-col gap-3",children:[(0,n.jsxs)("ul",{className:"grid w-full gap-6 md:grid-cols-2",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("input",{type:"radio",id:"gift-someone",name:"giftTo",value:"gift-someone",className:"peer hidden",checked:"Someone"===l.giftTo,onChange:()=>{c.setGiftTo("Someone")},required:!0}),(0,n.jsx)("label",{htmlFor:"gift-someone",className:"inline-flex w-full cursor-pointer items-center justify-between rounded-lg border border-gray-200 bg-white p-5 text-gray-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:bg-gray-100 hover:text-gray-600 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:peer-checked:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(f.fFq,{className:"text-3xl"}),(0,n.jsx)("div",{className:"w-full font-medium",children:"For Someone Else"})]})})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("input",{type:"radio",id:"gift-self",name:"giftTo",value:"gift-self",className:"peer hidden",checked:"Self"===l.giftTo,onChange:()=>{c.setGiftTo("Self")}}),(0,n.jsx)("label",{htmlFor:"gift-self",className:"inline-flex w-full cursor-pointer items-center justify-between rounded-lg border border-gray-200 bg-white p-5 text-gray-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:bg-gray-100 hover:text-gray-600 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:peer-checked:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(p.qyE,{className:"text-3xl"}),(0,n.jsx)("div",{className:"w-full font-medium",children:"For Yourself"})]})})]})]}),"Someone"===l.giftTo&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("label",{htmlFor:"recipient-name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Recipient's Name"}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 top-6 flex items-center pl-3.5 ".concat(T&&"top-[0.4rem]"),children:(0,n.jsx)(p.PhI,{className:"h-5 w-5 text-gray-500"})}),(0,n.jsx)("input",{type:"text",id:"recipient-name",className:"block w-full rounded-md border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Recipient's Name",onChange:e=>{c.setRecipientName(e.target.value)}}),T&&(0,n.jsx)("span",{className:"mt-1 text-xs text-red-500",children:T})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("label",{htmlFor:"recipient-email",className:"mb-1 block text-sm font-medium text-gray-900",children:"Recipient's Email"}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 top-6 flex items-center pl-3.5 ".concat(C&&"top-[0.4rem]"),children:(0,n.jsx)(p.PhI,{className:"h-5 w-5 text-gray-500"})}),(0,n.jsx)("input",{type:"email",id:"recipient-email",className:"block w-full rounded-md border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Recipient's Email",onChange:e=>{c.setRecipientEmail(e.target.value)}}),C&&(0,n.jsx)("span",{className:"mt-1 text-xs text-red-500",children:C})]})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("label",{htmlFor:"name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Sender's Name"}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 top-6 flex items-center pl-3.5 ".concat(A&&"top-[0.4rem]"),children:(0,n.jsx)(p.PhI,{className:"h-5 w-5 text-gray-500"})}),(0,n.jsx)("input",{type:"text",id:"name",className:"block w-full rounded-md border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 ",placeholder:"Sender's Name",onChange:e=>{c.setSenderName(e.target.value)}}),A&&(0,n.jsx)("span",{className:"mt-1 text-xs text-red-500",children:A})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("label",{htmlFor:"message",className:"mb-1 block text-sm font-medium text-gray-900",children:"Personal Message"}),(0,n.jsx)("textarea",{rows:9,id:"message",className:"block w-full rounded-md border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500  ",placeholder:"Message",onChange:e=>{c.setPersonalMessage(e.target.value)}}),D&&(0,n.jsx)("span",{className:"mt-1 text-xs text-red-500",children:D})]})]})}),(0,n.jsxs)("div",{className:"w-full lg:w-1/2",children:[(0,n.jsxs)("ul",{className:"grid w-full gap-6 md:grid-cols-2",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("input",{type:"radio",id:"gift-cash",name:"gift-type",value:"gift-cash",className:"peer hidden",checked:"Cash"===l.voucherType,onChange:()=>{c.setVoucherType("Cash")}}),(0,n.jsx)("label",{htmlFor:"gift-cash",className:"inline-flex w-full cursor-pointer items-center justify-between rounded-lg border border-gray-200 bg-white p-5 text-gray-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:bg-gray-100 hover:text-gray-600 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:peer-checked:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(f.yn9,{className:"text-3xl"}),(0,n.jsx)("div",{className:"w-full font-medium",children:"Gift Cash Voucher"})]})})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("input",{type:"radio",id:"gift-experience",name:"gift-type",value:"gift-experience",className:"peer hidden",checked:"Experience"===l.voucherType,onChange:()=>{c.setVoucherType("Experience")}}),(0,n.jsx)("label",{htmlFor:"gift-experience",className:"inline-flex w-full cursor-pointer items-center justify-between rounded-lg border border-gray-200 bg-white p-5 text-gray-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:bg-gray-100 hover:text-gray-600 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:peer-checked:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(h.dQ3,{className:"text-3xl"}),(0,n.jsx)("div",{className:"w-full font-medium",children:"Gift an Experience"})]})})]})]}),"Cash"===l.voucherType?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative flex items-center py-4",children:[(0,n.jsx)("div",{className:"flex-grow border-t border-gray-400"}),(0,n.jsx)("span",{className:"mx-4 flex-shrink text-gray-400",children:"Cash Voucher"}),(0,n.jsx)("div",{className:"flex-grow border-t border-gray-400"})]}),(0,n.jsx)("p",{className:"mb-2 font-medium",children:"Select Amount"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:d?[1e4,15e3,2e4,25e3,3e4,35e3,4e4,45e3]:[10,15,20,25,30,35,40,45].map(e=>(0,n.jsxs)("label",{className:"flex w-32 items-center justify-center rounded-md border border-gray-300 py-3 font-medium tracking-wide ".concat(l.cashAmount===e?"bg-blue-600 text-white":"bg-gray-50 text-gray-600 hover:bg-gray-200"),children:[(0,n.jsx)("input",{type:"radio",name:"price",value:e,className:"sr-only",checked:l.cashAmount===e,onChange:e=>{c.setCashAmount(parseInt(e.target.value))}}),d?(0,n.jsxs)(n.Fragment,{children:["LKR ",e,"/-"]}):(0,n.jsxs)(n.Fragment,{children:["USD $",e]})]},e))}),(0,n.jsxs)("div",{className:"relative flex items-center py-4",children:[(0,n.jsx)("div",{className:"flex-grow border-t border-gray-400"}),(0,n.jsx)("span",{className:"mx-4 flex-shrink text-gray-400",children:"OR"}),(0,n.jsx)("div",{className:"flex-grow border-t border-gray-400"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("label",{htmlFor:"name",className:"w-full font-medium text-gray-900",children:d?"Enter Custom Amount (LKR)":"Enter Custom Amount (USD $)"}),(0,n.jsx)("input",{type:"number",id:"amount",className:"w-full rounded-md border border-gray-300 bg-gray-50 p-2.5 px-4 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 ",placeholder:"Enter value...",value:l.cashAmount,onChange:e=>{c.setCashAmount(parseInt(e.target.value))}}),F&&(0,n.jsx)("span",{className:"mt-1 text-sm text-red-500",children:F})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative flex items-center py-4",children:[(0,n.jsx)("div",{className:"flex-grow border-t border-gray-400"}),(0,n.jsx)("span",{className:"mx-4 flex-shrink text-gray-400",children:"Experience"}),(0,n.jsx)("div",{className:"flex-grow border-t border-gray-400"})]}),(0,n.jsx)("p",{className:"mb-2 font-medium",children:"Select an Experience"}),(0,n.jsxs)("div",{className:"relative w-full",children:[(0,n.jsx)("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),(0,n.jsxs)("div",{className:"relative w-full",children:[(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,n.jsx)(m.RB5,{})}),(0,n.jsx)("input",{type:"text",id:"simple-search",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Search an experience...",value:N,onChange:e=>{let t=e.target.value;w(t),S(""!==t.trim())},required:!0})]}),k&&(0,n.jsx)("ul",{className:"absolute z-10 mt-2 w-full rounded-lg border border-gray-300 bg-white py-1 shadow-lg",children:s.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())).map(e=>{var t;return(0,n.jsx)("li",{className:"cursor-pointer px-4 py-2 hover:bg-gray-100 ".concat((null===(t=l.selectedExperience)||void 0===t?void 0:t.item.experience.id)===e.id?"bg-gray-100 font-medium":""),onClick:()=>{B(e)},children:e.name},e.id)})}),R&&(0,n.jsx)("span",{className:"mt-1 text-sm text-red-500",children:R})]}),s.filter(e=>e.suitedVoucher.some(e=>e.id===l.voucherId)).length>0&&(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("p",{className:"mb-2 font-medium",children:"Recommended Experiences"}),s.filter(e=>e.suitedVoucher.some(e=>e.id===l.voucherId)).map(e=>(0,n.jsx)("div",{className:"mb-2 cursor-pointer rounded-md border border-gray-300 p-4 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>{B(e)},children:e.name},e.id))]}),Z&&(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("p",{className:"font-medium",children:"Selected Experience:"}),(0,n.jsx)("div",{className:"mt-2 flex items-center gap-2",children:(0,n.jsxs)(v.Zb,{className:"flex w-full items-center gap-2 p-3",children:[(0,n.jsx)("div",{className:"relative h-12 w-12 rounded-full",children:(0,n.jsx)(i.default,{src:Z.images[0].src,alt:Z.images[0].alt,objectFit:"cover",style:"rounded-full"})}),Z.name,l.selectedExperience?(0,n.jsx)("p",{className:"ml-auto rounded-md border bg-green-500 p-2 text-sm uppercase text-white transition-all",children:"Configured"}):(0,n.jsx)("div",{className:"ml-auto rounded-md border p-2 text-sm transition-all hover:bg-gray-100",onClick:()=>{_(!0),q.push("#reservation-voucher")},children:"Configure"})]})})]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between border-t p-5",children:[(0,n.jsx)("button",{onClick:()=>{t(r-1)},className:"w-44 bg-gray-200 py-3 text-lg font-semibold uppercase text-gray-600 transition-all hover:bg-gray-300 ".concat(r<1?"opacity-0":"opacity-100"),disabled:r<1,children:"Back"}),(0,n.jsx)("button",{onClick:()=>{H()&&t(r+1)},className:"w-44 bg-green-500 py-3 text-lg font-semibold uppercase text-white transition-all hover:bg-green-600 ".concat(r>1?"opacity-0":"opacity-100"),disabled:r>1,children:"Continue"})]}),(0,n.jsx)("div",{id:"reservation-voucher"}),L&&Z&&!l.selectedExperience&&!U&&(0,n.jsx)(b.Z,{experience:Z,addType:"gift"})]})},N=r(6639),w=r(1162),k=r(7202),S=r(306),T=r(1872),E=e=>{var t;let{currentStep:r,setCurrentStep:s}=e,l=(0,o.useVoucher)(),{local:c,setKey:d}=(0,x.useLocal)(),{toast:u}=(0,w.pm)(),m=(0,o.useVoucherActions)(),p=(0,T.Z)(),f=(0,y.useRouter)();(0,a.useEffect)(()=>{if(m.setCouponId(p),"Cash"==l.voucherType){var e=new Date;e.setMonth(e.getMonth()+6),m.setValidDate(e)}else if("Experience"==l.voucherType){var e=new Date;e.setMonth(e.getMonth()+3),m.setValidDate(e)}},[]);let h=e=>{var t;let r={item:{id:(0,T.Z)(),info:{sendersName:l.senderName,personalMessage:l.personalMessage,recipientsName:l.recipientName,recipientsEmail:l.recipientEmail},voucher:{couponId:l.couponId,voucherType:l.voucherType,voucherAmount:{amount:null!==(t=l.cashAmount)&&void 0!==t?t:0,currency:c?"LKR":"USD"},voucherExperience:l.selectedExperience,voucherTemplate:{id:l.voucherId,name:l.voucherTemplate,src:l.voucherImage,alt:l.voucherTemplate+" Template Image"}}},itemType:"VOUCHER"},n=localStorage.getItem("Cart");if(null!==n){let e=JSON.parse(n),t=Array.isArray(e)?e:[];t.push(r),localStorage.setItem("Cart",JSON.stringify(t))}else localStorage.setItem("Cart",JSON.stringify([r]));localStorage.removeItem("Gift"),d(),"buy"===e?f.push("/cart"):u({title:"Success!",description:"Your Voucher is Added to Cart!",className:(0,S.cn)("bottom-4 right-0 flex fixed md:max-w-[420px] border-green-600 border text-green-600 md:bottom-4 md:left-4"),variant:"default"})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex w-full flex-col gap-10 p-4 lg:flex-row lg:gap-16",children:[(0,n.jsxs)("div",{className:"w-full lg:w-1/2",children:[(0,n.jsxs)("p",{className:"mb-4 text-xl font-medium",children:[l.voucherTemplate," Gift Voucher"]}),(0,n.jsx)("div",{className:"relative h-96",children:(0,n.jsx)(i.default,{src:l.voucherImage,alt:"",objectFit:"contain"})}),(0,n.jsxs)("p",{className:"mb-1 mt-5 font-medium text-gray-800",children:["Coupon ID: ",(0,n.jsx)("span",{className:"font-normal",children:p})]}),(0,n.jsxs)("p",{className:"mb-1 font-medium text-gray-800",children:["Voucher valid till:"," ",(0,n.jsx)("span",{className:"font-normal",children:l.validDate.toDateString()})]})]}),(0,n.jsxs)("div",{className:"flex w-full flex-grow flex-col lg:w-1/2",children:[(0,n.jsxs)("p",{className:"mb-1 flex justify-between font-medium text-gray-800",children:["Senders Name:"," ",(0,n.jsx)("span",{className:"font-normal",children:l.senderName})]}),(0,n.jsxs)("p",{className:"mb-4 flex justify-between font-medium text-gray-800",children:["Recipients Name:"," ",(0,n.jsx)("span",{className:"font-normal",children:l.recipientName})]}),(0,n.jsxs)("p",{className:"mb-4 flex flex-col gap-1 font-medium text-gray-800",children:["Personal Message:"," ",(0,n.jsx)("span",{className:"font-normal",children:l.personalMessage})]}),(0,n.jsx)("div",{className:"mb-4 border-t border-gray-300"}),(0,n.jsxs)("p",{className:"mb-1 flex justify-between font-medium text-gray-800",children:["Voucher Type:"," ",(0,n.jsx)("span",{className:"font-normal",children:l.voucherType})]}),"Cash"===l.voucherType?(0,n.jsxs)("p",{className:"mb-4 flex justify-between font-medium text-gray-800",children:["Voucher Amount:"," ",(0,n.jsx)("span",{className:"font-normal",children:c?(0,n.jsxs)(n.Fragment,{children:["LKR ",l.cashAmount,"/-"]}):(0,n.jsxs)(n.Fragment,{children:["USD $",l.cashAmount]})})]}):(0,n.jsx)(n.Fragment,{children:l.selectedExperience&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"mb-1 flex justify-between font-medium text-gray-800",children:["Voucher Experience:"," ",(0,n.jsx)("span",{className:"font-normal",children:null===(t=l.selectedExperience)||void 0===t?void 0:t.item.experience.name})]}),(0,n.jsxs)("p",{className:"mb-4 flex justify-between font-medium text-gray-800",children:["Experience Amount:"," ",(0,n.jsx)("span",{className:"font-normal",children:c?(0,n.jsxs)(n.Fragment,{children:["LKR"," ",(0,k.getExperienceTotal)(l.selectedExperience.item.experience,l.selectedExperience.item.duration,l.selectedExperience.item.adults,l.selectedExperience.item.children,l.selectedExperience.item.extras).LKR]}):(0,n.jsxs)(n.Fragment,{children:["USD $",(0,k.getExperienceTotal)(l.selectedExperience.item.experience,l.selectedExperience.item.duration,l.selectedExperience.item.adults,l.selectedExperience.item.children,l.selectedExperience.item.extras).USD]})})]})]})}),(0,n.jsxs)("ul",{className:"ml-4 mt-auto list-disc text-sm text-gray-400",children:[(0,n.jsx)("li",{children:"This voucher cannot be cashed out"}),(0,n.jsx)("li",{children:"The bookings should be made 05 days in advance."}),(0,n.jsx)("li",{children:"The voucher can be used as a full or part payment for any activity or experience"}),(0,n.jsx)("li",{children:"The voucher is valid 6 months from the purchase date. (if it is amount voucher)"}),(0,n.jsx)("li",{children:"The voucher is valid 3 months from the purchase date. (if it is experience voucher)"})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between border-t p-5",children:[(0,n.jsx)("button",{onClick:()=>{s(r-1)},className:"w-44 bg-gray-200 py-3 text-lg font-semibold uppercase text-gray-600 transition-all hover:bg-gray-300 ".concat(r<1?"opacity-0":"opacity-100"),disabled:r<1,children:"Back"}),(0,n.jsx)("button",{onClick:()=>{s(r+1)},className:"w-44 bg-green-500 py-3 text-lg font-semibold uppercase text-white transition-all hover:bg-green-600 ".concat(r>1?"opacity-0":"opacity-100"),disabled:r>1,children:"Continue"}),(0,n.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,n.jsx)(N.Z,{text:"Buy Now",onClick:()=>{h("buy")}}),(0,n.jsx)(N.Z,{onClick:()=>{h("add")},text:"Add to Cart",bgColor:"bg-gray-600 group-hover:bg-gray-800"})]})]})]})},C=()=>{let[e,t]=(0,a.useState)(0);return(0,n.jsxs)("div",{className:"mb-10",children:[(0,n.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[(0,n.jsx)("h1",{className:"flex w-72 items-center justify-center gap-2 rounded-br-3xl rounded-tl-3xl border py-3 text-lg font-medium\n                ".concat(0===e?"bg-blue-950 text-white":"bg-gray-300"),children:"1 . Select Template"}),(0,n.jsx)("h1",{className:"flex w-72 items-center justify-center gap-2 rounded-br-3xl rounded-tl-3xl border py-3 text-lg font-medium\n                ".concat(1===e?"bg-blue-950 text-white":"bg-gray-300"),children:"2 . Personalize"}),(0,n.jsx)("h1",{className:"flex w-72 items-center justify-center gap-2 rounded-br-3xl rounded-tl-3xl border py-3 text-lg font-medium\n                ".concat(2===e?"bg-blue-950 text-white":"bg-gray-300"),children:"3 . Overview"})]}),(0,n.jsx)("div",{className:"my-5",children:(0,n.jsxs)(v.Zb,{children:[0===e&&(0,n.jsx)(u,{currentStep:e,setCurrentStep:t}),1===e&&(0,n.jsx)(j,{currentStep:e,setCurrentStep:t}),2===e&&(0,n.jsx)(E,{currentStep:e,setCurrentStep:t})]})})]})}},1162:function(e,t,r){"use strict";r.d(t,{pm:function(){return m}});var n=r(2265);let a=0,i=new Map,s=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_VALUE).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=n.useState(c);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},1608:function(e,t,r){"use strict";r.r(t),r.d(t,{useVoucher:function(){return l},useVoucherActions:function(){return c}});var n=r(7437),a=r(2265);let i={voucherId:"",voucherTemplate:"",voucherImage:"",giftTo:"Someone",recipientName:"",recipientEmail:"",senderName:"",personalMessage:"",voucherType:"Cash",cashAmount:0,quantity:1,couponId:"",validDate:new Date("15-07-2001")},s=(0,a.createContext)(void 0),o=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(s);if(!e)throw Error("useVoucher must be used within a VoucherProvider");return e},c=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useVoucherActions must be used within a VoucherProvider");return e};t.default=e=>{let{children:t}=e,[r,l]=(0,a.useState)(i),c=e=>{l(t=>({...t,voucherId:e}))},d=e=>{l(t=>({...t,voucherTemplate:e}))},u=e=>{l(t=>({...t,voucherImage:e}))},m=e=>{l(t=>({...t,giftTo:e}))},p=e=>{l(t=>({...t,recipientName:e}))},f=e=>{l(t=>({...t,recipientEmail:e}))},h=e=>{l(t=>({...t,senderName:e}))},x=e=>{l(t=>({...t,personalMessage:e}))},g=e=>{l(t=>({...t,voucherType:e}))},v=e=>{l(t=>({...t,cashAmount:e}))},b=e=>{l(t=>({...t,quantity:e}))},y=e=>{l(t=>({...t,couponId:e}))},j=e=>{l(t=>({...t,validDate:e}))};return(0,n.jsx)(s.Provider,{value:r,children:(0,n.jsx)(o.Provider,{value:{setVoucherId:c,setVoucherTemplate:d,setVoucherImage:u,setGiftTo:m,setRecipientName:p,setRecipientEmail:f,setSenderName:h,setPersonalMessage:x,setVoucherType:g,setCashAmount:v,setSelectedExperience:e=>{l(t=>({...t,selectedExperience:e}))},setQuantity:b,setCouponId:y,setValidDate:j,clearVoucher:()=>{c(""),d(""),u(""),m("Self"),p(""),f(""),h(""),x(""),g("Cash"),v(0),b(0),y(""),j(new Date)}},children:t})})}},461:function(){},1872:function(e,t,r){"use strict";let n;r.d(t,{Z:function(){return c}});let a="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var i={randomUUID:a};let s=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}let l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));var c=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();e=e||{};let n=e.random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}(n)}}},function(e){e.O(0,[8447,6115,3712,2420,5986,5993,1694,9222,3604,736,2373,9666,9856,6915,2971,596,1744],function(){return e(e.s=128)}),_N_E=e.O()}]);